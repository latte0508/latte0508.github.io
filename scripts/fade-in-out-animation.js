AFRAME.registerComponent("fade-in-out-animation",{init:function(){this.model=this.el.getObject3D("mesh"),this.clock=new THREE.Clock,this.currentAnimation=null,this.targetWeight=0,this.nowWeight=0,this.el.addEventListener("tick",this.update.bind(this))},update:function(){this.clock.getDelta();this.targetWeight>this.nowWeight&&(this.nowWeight+=(this.targetWeight-this.nowWeight)/6,this.nowWeight>this.targetWeight&&(this.nowWeight=this.targetWeight),this.updateWeight()),this.targetWeight<this.nowWeight&&(this.nowWeight-=(this.nowWeight-this.targetWeight)/6,this.nowWeight<this.targetWeight&&(this.nowWeight=this.targetWeight),this.updateWeight())},updateWeight:function(){const t=this.model.material;t&&t.forEach((t=>{t.transparent=!0,t.opacity=this.nowWeight}))},playAnimation:function(t){if(this.currentAnimation===t)return;this.model.animations;const i=this.el.components["animation-mixer"].actions[t];if(this.currentAnimation){this.el.components["animation-mixer"].actions[this.currentAnimation].stop()}this.targetWeight=1,new TWEEN.Tween(this).to({targetWeight:1},1e3).start(),i.reset(),i.play(),this.currentAnimation=t}});