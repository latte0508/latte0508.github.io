!function(){"use strict";var e={359:function(e,t,n){n.r(t);const{EventDispatcher:o,MOUSE:a,Quaternion:i,Spherical:s,TOUCH:r,Vector2:c,Vector3:l}=THREE,d={type:"change"},m={type:"start"},u={type:"end"};THREE.OrbitControls=class extends o{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new l,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:a.ROTATE,MIDDLE:a.DOLLY,RIGHT:a.PAN},this.touches={ONE:r.ROTATE,TWO:r.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return b.phi},this.getAzimuthalAngle=function(){return b.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Q),this._domElementKeyEvents=e},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Q),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(d),n.update(),p=o.NONE},this.update=function(){const t=new l,a=(new i).setFromUnitVectors(e.up,new l(0,1,0)),s=a.clone().invert(),r=new l,c=new i,m=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(a),b.setFromVector3(t),n.autoRotate&&p===o.NONE&&k(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(b.theta+=E.theta*n.dampingFactor,b.phi+=E.phi*n.dampingFactor):(b.theta+=E.theta,b.phi+=E.phi);let i=n.minAzimuthAngle,l=n.maxAzimuthAngle;return isFinite(i)&&isFinite(l)&&(i<-Math.PI?i+=m:i>Math.PI&&(i-=m),l<-Math.PI?l+=m:l>Math.PI&&(l-=m),b.theta=i<=l?Math.max(i,Math.min(l,b.theta)):b.theta>(i+l)/2?Math.max(i,b.theta):Math.min(l,b.theta)),b.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,b.phi)),b.makeSafe(),b.radius*=g,b.radius=Math.max(n.minDistance,Math.min(n.maxDistance,b.radius)),!0===n.enableDamping?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),t.setFromSpherical(b),t.applyQuaternion(s),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(E.theta*=1-n.dampingFactor,E.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(E.set(0,0,0),f.set(0,0,0)),g=1,!!(y||r.distanceToSquared(n.object.position)>h||8*(1-c.dot(n.object.quaternion))>h)&&(n.dispatchEvent(d),r.copy(n.object.position),c.copy(n.object.quaternion),y=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",J),n.domElement.removeEventListener("pointerdown",q),n.domElement.removeEventListener("pointercancel",G),n.domElement.removeEventListener("wheel",W),n.domElement.removeEventListener("pointermove",B),n.domElement.removeEventListener("pointerup",G),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",Q),n._domElementKeyEvents=null)};const n=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let p=o.NONE;const h=1e-6,b=new s,E=new s;let g=1;const f=new l;let y=!1;const A=new c,v=new c,P=new c,O=new c,R=new c,T=new c,S=new c,M=new c,L=new c,x=[],w={};function j(){return Math.pow(.95,n.zoomSpeed)}function k(e){E.theta-=e}function N(e){E.phi-=e}const D=function(){const e=new l;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),f.add(e)}}(),H=function(){const e=new l;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),f.add(e)}}(),I=function(){const e=new l;return function(t,o){const a=n.domElement;if(n.object.isPerspectiveCamera){const i=n.object.position;e.copy(i).sub(n.target);let s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180),D(2*t*s/a.clientHeight,n.object.matrix),H(2*o*s/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(D(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),H(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function Y(e){n.object.isPerspectiveCamera?g/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function C(e){n.object.isPerspectiveCamera?g*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function _(e){A.set(e.clientX,e.clientY)}function z(e){O.set(e.clientX,e.clientY)}function F(){if(1===x.length)A.set(x[0].pageX,x[0].pageY);else{const e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);A.set(e,t)}}function K(){if(1===x.length)O.set(x[0].pageX,x[0].pageY);else{const e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);O.set(e,t)}}function Z(){const e=x[0].pageX-x[1].pageX,t=x[0].pageY-x[1].pageY,n=Math.sqrt(e*e+t*t);S.set(0,n)}function V(e){if(1==x.length)v.set(e.pageX,e.pageY);else{const t=ee(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);v.set(n,o)}P.subVectors(v,A).multiplyScalar(n.rotateSpeed);const t=n.domElement;k(2*Math.PI*P.x/t.clientHeight),N(2*Math.PI*P.y/t.clientHeight),A.copy(v)}function U(e){if(1===x.length)R.set(e.pageX,e.pageY);else{const t=ee(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);R.set(n,o)}T.subVectors(R,O).multiplyScalar(n.panSpeed),I(T.x,T.y),O.copy(R)}function X(e){const t=ee(e),o=e.pageX-t.x,a=e.pageY-t.y,i=Math.sqrt(o*o+a*a);M.set(0,i),L.set(0,Math.pow(M.y/S.y,n.zoomSpeed)),Y(L.y),S.copy(M)}function q(e){!1!==n.enabled&&(0===x.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",B),n.domElement.addEventListener("pointerup",G)),function(e){x.push(e)}(e),"touch"===e.pointerType?function(e){switch($(e),x.length){case 1:switch(n.touches.ONE){case r.ROTATE:if(!1===n.enableRotate)return;F(),p=o.TOUCH_ROTATE;break;case r.PAN:if(!1===n.enablePan)return;K(),p=o.TOUCH_PAN;break;default:p=o.NONE}break;case 2:switch(n.touches.TWO){case r.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&Z(),n.enablePan&&K(),p=o.TOUCH_DOLLY_PAN;break;case r.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&Z(),n.enableRotate&&F(),p=o.TOUCH_DOLLY_ROTATE;break;default:p=o.NONE}break;default:p=o.NONE}p!==o.NONE&&n.dispatchEvent(m)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a.DOLLY:if(!1===n.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),p=o.DOLLY;break;case a.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;z(e),p=o.PAN}else{if(!1===n.enableRotate)return;_(e),p=o.ROTATE}break;case a.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;_(e),p=o.ROTATE}else{if(!1===n.enablePan)return;z(e),p=o.PAN}break;default:p=o.NONE}p!==o.NONE&&n.dispatchEvent(m)}(e))}function B(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch($(e),p){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;V(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;U(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&X(e),n.enablePan&&U(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&X(e),n.enableRotate&&V(e)}(e),n.update();break;default:p=o.NONE}}(e):function(e){switch(p){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),P.subVectors(v,A).multiplyScalar(n.rotateSpeed);const t=n.domElement;k(2*Math.PI*P.x/t.clientHeight),N(2*Math.PI*P.y/t.clientHeight),A.copy(v),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),L.subVectors(M,S),L.y>0?Y(j()):L.y<0&&C(j()),S.copy(M),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){R.set(e.clientX,e.clientY),T.subVectors(R,O).multiplyScalar(n.panSpeed),I(T.x,T.y),O.copy(R),n.update()}(e)}}(e))}function G(e){!function(e){delete w[e.pointerId];for(let t=0;t<x.length;t++)if(x[t].pointerId==e.pointerId)return void x.splice(t,1)}(e),0===x.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",B),n.domElement.removeEventListener("pointerup",G)),n.dispatchEvent(u),p=o.NONE}function W(e){!1!==n.enabled&&!1!==n.enableZoom&&p===o.NONE&&(e.preventDefault(),n.dispatchEvent(m),function(e){e.deltaY<0?C(j()):e.deltaY>0&&Y(j()),n.update()}(e),n.dispatchEvent(u))}function Q(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?N(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):I(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?N(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):I(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?k(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):I(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?k(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):I(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function J(e){!1!==n.enabled&&e.preventDefault()}function $(e){let t=w[e.pointerId];void 0===t&&(t=new c,w[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ee(e){const t=e.pointerId===x[0].pointerId?x[1]:x[0];return w[t.pointerId]}n.domElement.addEventListener("contextmenu",J),n.domElement.addEventListener("pointerdown",q),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",W,{passive:!1}),this.update()}};var p=AFRAME.utils.bind;AFRAME.registerComponent("orbit-controls",{dependencies:["camera"],schema:{autoRotate:{type:"boolean"},autoRotateSpeed:{default:2},dampingFactor:{default:.1},enabled:{default:!0},enableDamping:{default:!0},enableKeys:{default:!0},enablePan:{default:!0},enableRotate:{default:!0},enableZoom:{default:!0},initialPosition:{type:"vec3"},keyPanSpeed:{default:7},minAzimuthAngle:{type:"number",default:-1/0},maxAzimuthAngle:{type:"number",default:1/0},maxDistance:{default:1e3},maxPolarAngle:{default:AFRAME.utils.device.isMobile()?90:120},minDistance:{default:1},minPolarAngle:{default:0},minZoom:{default:0},panSpeed:{default:1},rotateSpeed:{default:.05},screenSpacePanning:{default:!1},target:{type:"vec3"},zoomSpeed:{default:.5}},init:function(){var e=this.el;this.oldPosition=new THREE.Vector3,this.bindMethods(),e.sceneEl.addEventListener("enter-vr",this.onEnterVR),e.sceneEl.addEventListener("exit-vr",this.onExitVR),document.body.style.cursor="grab",document.addEventListener("mousedown",(()=>{document.body.style.cursor="grabbing"})),document.addEventListener("mouseup",(()=>{document.body.style.cursor="grab"})),this.target=new THREE.Vector3,e.getObject3D("camera").position.copy(this.data.initialPosition)},pause:function(){this.controls.dispose()},play:function(){const e=this.el;this.controls=new THREE.OrbitControls(e.getObject3D("camera"),e.sceneEl.renderer.domElement),this.update(),this.controls.saveState()},onEnterVR:function(){var e=this.el;(AFRAME.utils.device.checkHeadsetConnected()||AFRAME.utils.device.isMobile())&&(this.controls.enabled=!1,e.hasAttribute("look-controls")&&(e.setAttribute("look-controls","enabled",!0),this.oldPosition.copy(e.getObject3D("camera").position),e.getObject3D("camera").position.set(0,0,0)))},onExitVR:function(){var e=this.el;(AFRAME.utils.device.checkHeadsetConnected()||AFRAME.utils.device.isMobile())&&(this.controls.enabled=!0,e.getObject3D("camera").position.copy(this.oldPosition),e.hasAttribute("look-controls")&&e.setAttribute("look-controls","enabled",!1))},bindMethods:function(){this.onEnterVR=p(this.onEnterVR,this),this.onExitVR=p(this.onExitVR,this)},update:function(e){var t=this.controls,n=this.data;t&&(t.target=this.target.copy(n.target),t.autoRotate=n.autoRotate,t.autoRotateSpeed=n.autoRotateSpeed,t.dampingFactor=n.dampingFactor,t.enabled=n.enabled,t.enableDamping=n.enableDamping,t.enableKeys=n.enableKeys,t.enablePan=n.enablePan,t.enableRotate=n.enableRotate,t.enableZoom=n.enableZoom,t.keyPanSpeed=n.keyPanSpeed,t.maxPolarAngle=THREE.MathUtils.degToRad(n.maxPolarAngle),t.maxAzimuthAngle=THREE.MathUtils.degToRad(n.maxAzimuthAngle),t.maxDistance=n.maxDistance,t.minDistance=n.minDistance,t.minPolarAngle=THREE.MathUtils.degToRad(n.minPolarAngle),t.minAzimuthAngle=THREE.MathUtils.degToRad(n.minAzimuthAngle),t.minZoom=n.minZoom,t.panSpeed=n.panSpeed,t.rotateSpeed=n.rotateSpeed,t.screenSpacePanning=n.screenSpacePanning,t.zoomSpeed=n.zoomSpeed)},tick:function(){var e=this.controls;this.data.enabled&&e.enabled&&(e.enableDamping||e.autoRotate)&&this.controls.update()},remove:function(){this.controls.reset(),this.controls.dispose(),this.el.sceneEl.removeEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.removeEventListener("exit-vr",this.onExitVR)}})}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){n(359),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("a-scene").setAttribute("load-complete","")})),AFRAME.registerComponent("load-complete",{init:function(){document.querySelector("#scene"),document.querySelector("#basic_light"),document.querySelector("#basic_camera"),document.querySelector("#sphere_360");!function e(){requestAnimationFrame(e)}()}});const e=document.querySelector("#sphere_360"),t=document.getElementById("changesky");let o=0;t.addEventListener("click",(function(){o=(o+1)%8,e.setAttribute("src","#sky"+(o+1))}))}()}();
//# sourceMappingURL=test_360.js.map